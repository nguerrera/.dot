#!/usr/bin/env bash

# Symbolically link to all of the dot files in this directory from the
# home directory.

cd $(dirname $0) || exit $?

function run {
    echo "> $*"
    $* || exit $?
    echo
}

if [ ! -d ~/.config ]; then
    run mkdir ~/.config
fi

for file in .* .config/*; do
    case $file in
        .|..|.git|.config)
            :    
            ;;
        *)
	    if [ -d ~/$file ]; then
	        run rm -i -r ~/$file || exit $?
	    fi
	    run ln -i -s $(pwd)/$file ~/$file || exit $?
            ;;
    esac
done
